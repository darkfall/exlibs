// ======================================================================================
// File         : YamlDocument.h
// Author       : Wu Jie 
// Last Change  : 10/02/2009 | 18:11:56 PM | Friday,October
// Description  : 
// ======================================================================================

// #################################################################################
#ifndef YAMLDOCUMENT_H_1254478322
#define YAMLDOCUMENT_H_1254478322
// #################################################################################

///////////////////////////////////////////////////////////////////////////////
// includes
///////////////////////////////////////////////////////////////////////////////

#include "YamlNode.h"

// ######################### 
namespace ex { 
// ######################### 

///////////////////////////////////////////////////////////////////////////////
// class CYamlDocument 
// 
// Purpose: 
// 
///////////////////////////////////////////////////////////////////////////////

class EX_LIBS_DLL CYamlDocument : public CYamlNode
{
    ///////////////////////////////////////////////////////////////////////////////
    // typedefs
    ///////////////////////////////////////////////////////////////////////////////

    typedef CYamlDocument self_t;
    typedef CYamlNode base_t;
    typedef List<CYamlNode::smart_ptr_t> yaml_nodes_t;

    ///////////////////////////////////////////////////////////////////////////////
    // public member functions
    ///////////////////////////////////////////////////////////////////////////////

public:

    CYamlDocument ();
    virtual ~CYamlDocument ();

    virtual void AddChild ( const CYamlNode::smart_ptr_t& _spNode );
    virtual int Compare ( const CYamlNode& _node );

    //
    virtual CYamlNode::smart_ptr_t GetNode ( int _idx ) const;

    void SetImplicit ( bool _isImplicit ) { m_Implicit = _isImplicit; }

    ///////////////////////////////////////////////////////////////////////////////
    // protected member functions
    ///////////////////////////////////////////////////////////////////////////////

protected:

    virtual result_t SaveToFile ( yaml_emitter_t* _pEmitter ) const;

    ///////////////////////////////////////////////////////////////////////////////
    // protected member data 
    ///////////////////////////////////////////////////////////////////////////////

protected:

    bool          m_Implicit;
    yaml_nodes_t  m_Children;

}; // end class CYamlDocument 

// ######################### 
} // end namespace ex 
// ######################### 


// #################################################################################
#endif // END YAMLDOCUMENT_H_1254478322
// #################################################################################


