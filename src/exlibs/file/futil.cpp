// ======================================================================================
// File         : futil.cpp
// Author       : Wu Jie 
// Last Change  : 04/03/2010 | 10:36:42 AM | Saturday,April
// Description  : 
// ======================================================================================

///////////////////////////////////////////////////////////////////////////////
// includes
///////////////////////////////////////////////////////////////////////////////

#include "exlibs.h"
#include "futil.h"

// ######################### 
namespace ex { 
// ######################### 

// ######################### 
namespace futil { 
// ######################### 

///////////////////////////////////////////////////////////////////////////////
// futil::file
///////////////////////////////////////////////////////////////////////////////

// ######################### 
namespace file { 
// ######################### 

// ------------------------------------------------------------------ 
// Desc: 
// NOTE: after remove the file, the IFile::handle_t is no longer valid.
//       you should not use the spFile after remove.
// ------------------------------------------------------------------ 

void remove ( IFile::smart_ptr_t _spFile ) 
{
    _spFile->close();
    if ( _spFile->path().empty() == false )
        futil::file::remove (_spFile->path());
    else if ( _spFile->wpath().empty() == false )
        futil::file::remove (_spFile->wpath());
}

// ######################### 
} // end namespace file 
// ######################### 

// ######################### 
} // end namespace futil 
// ######################### 

// ######################### 
} // end namespace ex 
// ######################### 

