// ======================================================================================
// File         : OutputWidget.h
// Author       : Wu Jie 
// Last Change  : 03/17/2010 | 00:02:17 AM | Wednesday,March
// Description  : 
// ======================================================================================

// #################################################################################
#ifndef OUTPUTWIDGET_H_1268755340
#define OUTPUTWIDGET_H_1268755340
// #################################################################################

///////////////////////////////////////////////////////////////////////////////
// includes
///////////////////////////////////////////////////////////////////////////////

#include "ui_OutputWidget.h"

///////////////////////////////////////////////////////////////////////////////
// defines
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
// class OutputWidget 
// 
// Purpose: 
// 
///////////////////////////////////////////////////////////////////////////////

class OutputWidget : public QWidget, private Ui::outputWidget
{
    Q_OBJECT

    static void LogMsg ( void* _pObject, const char* _str );
    static void LogMsg ( void* _pObject, const ex::wchar* _str );

    ///////////////////////////////////////////////////////////////////////////////
    // public mebmer functions
    ///////////////////////////////////////////////////////////////////////////////

public:

    OutputWidget ( QWidget* _pParent = NULL );
    ~OutputWidget ();

    //
    void LogMsg ( QString _str );

    ///////////////////////////////////////////////////////////////////////////////
    // protected
    ///////////////////////////////////////////////////////////////////////////////

protected slots:

    void flush ();

protected:

    QQueue<QString> m_pendingLogs; 
    QMutex m_mutex;

}; // end class OutputWidget 

// #################################################################################
#endif // END OUTPUTWIDGET_H_1268755340
// #################################################################################


